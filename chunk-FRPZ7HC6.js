import{A as ae,B as ne,C as oe,G as se,S as le,T as pe,f as O,g as v,h as D,i as G,j as R,k as y,l as H,m as L,n as z,o as U,p as J,q as K,r as Q,s as W,t as X,u as Y,v as Z,w as ee,x as te,y as ie,z as re}from"./chunk-Y4STISLT.js";import{$ as u,$a as g,Da as N,Ha as t,Ia as r,Ja as f,Ka as V,Kb as S,Oa as w,Qa as l,R as C,W as E,X as h,_ as c,_a as a,ab as _,cb as T,ec as j,fb as p,gb as x,hb as k,id as me,jd as de,pa as s,qa as I,rb as q,tb as A,ub as B,vb as $,wb as b,xa as M,ya as P,za as d}from"./chunk-3IOVUQRB.js";function xe(n,e){n&1&&(t(0,"mat-card-footer"),f(1,"mat-progress-bar",12),r())}function Ce(n,e){if(n&1){let o=V();t(0,"mat-card")(1,"mat-card-header")(2,"div",0),a(3),p(4,"uppercase"),r(),t(5,"mat-card-title"),a(6),r(),t(7,"mat-card-subtitle")(8,"span",1),a(9),r(),t(10,"span",2),a(11,"|"),r(),t(12,"span"),a(13),p(14,"date"),r()()(),t(15,"mat-card-content")(16,"p"),a(17,"Cambiar contrase\xF1a"),r(),t(18,"form",3),w("ngSubmit",function(){c(o);let i=l();return u(i.onChangePassword())}),t(19,"mat-form-field")(20,"mat-label"),a(21,"Current password"),r(),f(22,"input",4),t(23,"button",5),w("click",function(){c(o);let i=l();return u(i.hide=!i.hide)}),t(24,"mat-icon"),a(25),r()(),t(26,"mat-error"),a(27,"The password is required "),r()(),t(28,"mat-form-field")(29,"mat-label"),a(30,"New password"),r(),f(31,"input",6),t(32,"button",5),w("click",function(){c(o);let i=l();return u(i.hide=!i.hide)}),t(33,"mat-icon"),a(34),r()(),t(35,"mat-error"),a(36,"The password is required "),r()(),t(37,"mat-form-field")(38,"mat-label"),a(39,"Repeat password"),r(),f(40,"input",7),t(41,"mat-error"),a(42,"The password is required "),r()()()(),t(43,"mat-card-actions",8)(44,"button",9),a(45,"Cancel"),r(),t(46,"button",10),w("click",function(){c(o);let i=l();return u(i.onChangePassword())}),p(47,"async"),a(48," Save "),r()(),M(49,xe,2,0,"mat-card-footer",11),p(50,"async"),r()}if(n&2){let o=l();s(3),_(" ",x(4,16,e.account.charAt(0))," "),s(3),g(e.account),s(3),_(" ",e.state," "),s(4),_("last login ",k(14,18,e.updatedAt,"medium"),""),s(5),d("formGroup",o.passwordForm),s(4),d("type",o.hide?"password":"text"),s(),P("aria-label","Hide password")("aria-pressed",o.hide),s(2),g(o.hide?"visibility_off":"visibility"),s(6),d("type",o.hide?"password":"text"),s(),P("aria-label","Hide password")("aria-pressed",o.hide),s(2),g(o.hide?"visibility_off":"visibility"),s(6),d("type",o.hide?"password":"text"),s(6),d("disabled",o.passwordForm.invalid||x(47,21,o.loading$)),s(3),d("ngIf",x(50,23,o.loading$))}}var ue=(()=>{let e=class e{constructor(m){this.authFacade=m,this.user$=this.authFacade.user$,this.loading$=this.authFacade.isLoading$,this.hide=!0,this.passwordForm=new R({currentPassword:new y("",{nonNullable:!0,validators:v.required}),newPassword:new y("",{nonNullable:!0,validators:v.required}),rePassword:new y("",{nonNullable:!0,validators:v.required})})}onChangePassword(){if(this.passwordForm.valid){let{currentPassword:m,newPassword:i}=this.passwordForm.getRawValue();this.authFacade.changePassword(m,i)}}};e.\u0275fac=function(i){return new(i||e)(I(j))},e.\u0275cmp=E({type:e,selectors:[["app-profile"]],standalone:!0,features:[T],decls:2,vars:3,consts:[["mat-card-avatar","",1,"example-header-image"],[1,"state","active"],[1,"separator"],[3,"formGroup","ngSubmit"],["matInput","","formControlName","currentPassword","name","currentPassword","required","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","newPassword","name","newPassword","required","",3,"type"],["matInput","","formControlName","rePassword","name","rePassword","required","",3,"type"],["align","end"],["mat-button",""],["mat-button","",3,"disabled","click"],[4,"ngIf"],["mode","indeterminate","color","primary"]],template:function(i,we){if(i&1&&(M(0,Ce,51,25,"mat-card"),p(1,"async")),i&2){let F;N(0,(F=x(1,1,we.user$))?0:-1,F)}},dependencies:[b,q,A,B,$,pe,Y,X,K,Q,W,Z,re,oe,te,ne,ae,ie,ee,se,me,de,le,J,H,O,D,G,U,L,z],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:1em auto}.example-header-image[_ngcontent-%COMP%]{background-color:#00a184;color:#fff;display:flex;align-items:center;justify-content:center}.state[_ngcontent-%COMP%]{padding:2px 6px;border-radius:4px;line-height:22px;font-size:13px;font-weight:400}.active[_ngcontent-%COMP%]{background-color:#129e35;color:#fff}.separator[_ngcontent-%COMP%]{margin:0 8px}mat-form-field[_ngcontent-%COMP%]{display:block}"]});let n=e;return n})();var he=[{path:"",component:ue}],fe=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=C({imports:[S.forChild(he),S]});let n=e;return n})();var $e=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=h({type:e}),e.\u0275inj=C({imports:[b,fe]});let n=e;return n})();export{$e as ProfileModule};
