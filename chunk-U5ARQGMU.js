import{a as q}from"./chunk-NJWGNBH4.js";import{A as ue,B as fe,C as Ce,D as xe,E as he,F as ge,G as ve,H as Q,I as _e,J as Me,K as ye,L as C,a as k,b as se,c as I,d as R,e as me,t as A,u as N,v as V,w as $,x as le,y as G,z as de}from"./chunk-OJPKFH2X.js";import{$a as ne,Aa as g,Ba as a,Bb as T,Ca as r,Da as W,Ea as w,Ha as d,Ia as x,K as E,La as Z,P as u,Pa as ee,Q as P,Qa as te,Ra as ie,Sa as j,T as y,Ta as m,U as S,Ua as oe,Va as v,Xa as _,_a as b,ab as F,ia as c,ja as D,ma as O,nb as ae,ob as B,pb as f,ra as K,sa as U,ta as l,wb as re,xa as X,xb as ce,ya as Y,yb as L,za as h,zb as pe}from"./chunk-YIQ425NN.js";var De=(()=>{let e=class e{constructor(o){this.router=o}logout(){this.router.navigate(["/login"])}};e.\u0275fac=function(t){return new(t||e)(D(L))},e.\u0275cmp=u({type:e,selectors:[["app-main"]],standalone:!0,features:[_],decls:15,vars:1,consts:[["color","primary","fxLayout","row","fxLayoutAlign","space-between center"],["routerLink","/",2,"display","flex"],["src","assets/images/logo-white.svg",2,"width","150px"],["fxLayout","row"],["mat-icon-button","",3,"mat-menu-trigger-for"],["x-position","before"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,n){if(t&1&&(a(0,"mat-toolbar",0)(1,"span")(2,"a",1),W(3,"img",2),r()(),a(4,"div",3)(5,"button",4)(6,"mat-icon"),m(7,"person"),r()()()(),a(8,"mat-menu",5,6)(10,"button",7),d("click",function(){return n.logout()}),a(11,"mat-icon"),m(12,"exit_to_app"),r(),m(13," Logout "),r()(),W(14,"router-outlet")),t&2){let s=j(9);c(5),l("mat-menu-trigger-for",s)}},dependencies:[f,ce,C,k,R,me,ue,de,fe,Ce,he,T,pe]});let i=e;return i})();var z=[{_id:"a4dg6x1",name:"Work station",positions:[{name:"1"},{name:"2"},{name:"3"},{name:"4"},{name:"5"},{name:"6"},{name:"7"}],available:!0},{_id:"n21f256",name:"Parking",positions:[{name:"A"},{name:"B"},{name:"C"},{name:"D"}],available:!0}];var Re=["conceptsSelector"],Ae=(i,e)=>e._id;function Ve(i,e){if(i&1&&(a(0,"mat-list-option",3),m(1),r()),i&2){let p=e.$implicit;l("value",p._id),c(),oe(p.name)}}var be=(()=>{let e=class e{constructor(o){this.router=o,this.concepts=[...z]}onSchedule(){if(!this.conceptsSelector.selectedOptions.isEmpty()){let t=this.conceptsSelector.selectedOptions.selected.map(n=>n.value);this.router.navigate(["/schedule"],{queryParams:{concepts:t}})}}};e.\u0275fac=function(t){return new(t||e)(D(L))},e.\u0275cmp=u({type:e,selectors:[["app-select-concept"]],viewQuery:function(t,n){if(t&1&&ee(Re,5),t&2){let s;te(s=ie())&&(n.conceptsSelector=s.first)}},standalone:!0,features:[_],decls:14,vars:1,consts:[["conceptsSelector",""],["align","end"],["mat-flat-button","","color","primary","matTooltip","Schedule the selected concepts",3,"disabled","click"],[3,"value"]],template:function(t,n){if(t&1&&(a(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3,"Concepts"),r(),a(4,"mat-card-subtitle"),m(5,"Select the concepts you want to schedule"),r()(),a(6,"mat-card-content")(7,"mat-selection-list",null,0),h(9,Ve,2,2,"mat-list-option",3,Ae),r()(),a(11,"mat-card-actions",1)(12,"button",2),d("click",function(){return n.onSchedule()}),m(13," Schedule "),r()()()),t&2){let s=j(8);c(9),g(n.concepts),c(3),l("disabled",s.selectedOptions.isEmpty())}},dependencies:[f,C,A,le,V,G,$,N,xe,ve,ge,Q,T,q],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:1em auto}"]});let i=e;return i})();var Be=(i,e)=>e._id;function Ne(i,e){if(i&1){let p=w();a(0,"mat-chip-option",5),d("selectionChange",function(t){y(p);let n=x();return S(n.onSelectionChange(t,n.date))}),a(1,"span"),m(2),b(3,"lowercase"),r()()}if(i&2){let p=e.$implicit;l("selected",!1)("value",p),c(2),v("Select ",ne(3,3,p.name),"")}}var Te=(()=>{let e=class e{constructor(){this.date=new Date,this.concepts=[],this.selectedConcept=new O}onSelectionChange(o,t){o.selected&&this.selectedConcept.emit({date:t,concept:o.source.value})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u({type:e,selectors:[["app-date-item"]],inputs:{date:"date",concepts:"concepts"},outputs:{selectedConcept:"selectedConcept"},standalone:!0,features:[_],decls:15,vars:12,consts:[["fxLayout","row","fxLayoutGap","10px"],["fxLayout","column","fxLayoutAlign","center center",1,"date-container",3,"matTooltip"],[1,"day"],["fxFlex",""],["fxLayout","column","fxLayoutGap","5px",1,"mat-mdc-chip-set-stacked"],[3,"selected","value","selectionChange"],[3,"selected","value"]],template:function(t,n){t&1&&(a(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"div",1),b(4,"date"),a(5,"div",2),m(6),b(7,"date"),r(),a(8,"div"),m(9),b(10,"date"),r()(),a(11,"div",3)(12,"div",4),h(13,Ne,4,5,"mat-chip-option",6,Be),r()()()()()),t&2&&(c(3),Z("matTooltip",F(4,3,n.date,"fullDate")),c(3),v(" ",F(7,6,n.date,"dd")," "),c(3),v(" ",F(10,9,n.date,"EE")," "),c(4),g(n.concepts))},dependencies:[f,ae,B,C,k,se,R,I,A,V,Q,_e,q],styles:[".date-container[_ngcontent-%COMP%]{text-align:center;color:#323c3c}.day[_ngcontent-%COMP%]{font-size:28px;font-weight:500}mat-card[_ngcontent-%COMP%]{margin-bottom:10px}"]});let i=e;return i})();var Ee=(()=>{let e=class e{constructor(){this.positionSelected=new O}onClick(){this.positionSelected.emit(this.position)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u({type:e,selectors:[["app-position"]],inputs:{position:"position"},outputs:{positionSelected:"positionSelected"},decls:3,vars:2,consts:[["fxLayoutAlign","center","fxFlex","",1,"position-card",3,"click"]],template:function(t,n){t&1&&(a(0,"div",0),d("click",function(){return n.onClick()}),a(1,"span"),m(2),r()()),t&2&&(U("disabled",n.position.name==="2"?!0:null),c(2),v(" ",n.position.name," "))},dependencies:[R,I],styles:[".position-card[_ngcontent-%COMP%]{border-radius:5px;border-top:3px solid #00b096;padding:15px 10px;cursor:pointer!important;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.position-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#323c3c;font-size:18px;font-weight:500}.position-card[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.position-card[disabled][_ngcontent-%COMP%]{border-top:3px solid #45bfa8;background-color:#efefef}.position-card[disabled][_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:gray}.position-card[disabled][_ngcontent-%COMP%]:hover{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}"]});let i=e;return i})();var Ge=(i,e)=>e.name;function Qe(i,e){if(i&1){let p=w();a(0,"div",1)(1,"app-position",2),d("positionSelected",function(t){y(p);let n=x();return S(n.onPositionSelected(t))}),r()()}if(i&2){let p=e.$implicit;c(),l("position",p)}}var Pe=(()=>{let e=class e{constructor(){this.positionSelected=new O}onPositionSelected(o){this.positionSelected.emit(o)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u({type:e,selectors:[["app-position-list"]],inputs:{date:"date",concept:"concept"},outputs:{positionSelected:"positionSelected"},decls:10,vars:4,consts:[["fxLayout","row wrap"],["fxFlex","20","fxFlex.xs","25",1,"item"],[3,"position","positionSelected"],["class","item","fxFlex","20","fxFlex.xs","25"]],template:function(t,n){t&1&&(a(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),m(3,"Work station"),r(),a(4,"mat-card-subtitle"),m(5),b(6,"date"),r()(),a(7,"mat-card-content",0),h(8,Qe,2,1,"div",3,Ge),r()()),t&2&&(c(5),v("Select a work station for the date ",F(6,1,n.date,"mediumDate"),""),c(3),g(n.concept.positions))},dependencies:[k,I,A,V,G,$,N,Ee,B],styles:[".item[_ngcontent-%COMP%]{padding:4px}"]});let i=e;return i})();var Oe=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P({type:e}),e.\u0275inj=E({imports:[f,C]});let i=e;return i})();function ze(i,e){if(i&1){let p=w();a(0,"app-date-item",4),d("selectedConcept",function(t){y(p);let n=x();return S(n.onSelectedConcept(t))}),r()}if(i&2){let p=e.$implicit,o=x();l("date",p)("concepts",o.concepts)}}function He(i,e){if(i&1){let p=w();a(0,"app-position-list",5),d("positionSelected",function(t){y(p);let n=x();return S(n.onPositionSelected(t))}),r()}if(i&2){let p=x();l("date",p.selectedConcept.date)("concept",p.selectedConcept.concept)}}var Fe=(()=>{let e=class e{constructor(o,t){this.router=o,this.activatedRoute=t,this.dateRange=[],this.concepts=[],this.activeTab=0,this.selectedConcept=null;let n=t.snapshot.queryParams;this.concepts=this.loadConcepts(n.concepts),console.log(this.concepts);let s=new Date,H=new Date;H.setDate(H.getDate()+15),this.dateRange=this.createDateRange(s,H)}loadConcepts(o){if(!o?.length)throw this.router.navigate(["/"]),new Error("Concept ids where not provided");return this.concepts=z.filter(t=>typeof o=="string"?t._id===o:o.includes(t._id)),this.concepts}createDateRange(o,t){let n=[];for(let s=new Date(o);s<new Date(t);s.setDate(s.getDate()+1))s.getDay()!=6&&s.getDay()!=0&&n.push(new Date(s));return n}onSelectedConcept(o){this.selectedConcept=o,this.activeTab=1}onPositionSelected(o){console.log(this.selectedConcept,o),this.activeTab=0}};e.\u0275fac=function(t){return new(t||e)(D(L),D(re))},e.\u0275cmp=u({type:e,selectors:[["app-select-date"]],standalone:!0,features:[_],decls:9,vars:2,consts:[[1,"container"],[3,"selectedIndex"],[1,"tab-container"],[3,"date","concept"],[3,"date","concepts","selectedConcept"],[3,"date","concept","positionSelected"],[3,"date","concepts"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab")(3,"div",2),h(4,ze,1,2,"app-date-item",6,Y),r()(),a(6,"mat-tab")(7,"div",2),K(8,He,1,2,"app-position-list",3),r()()()()),t&2&&(c(),l("selectedIndex",n.activeTab),c(3),g(n.dateRange),c(4),X(8,n.selectedConcept?8:-1))},dependencies:[Te,C,Me,ye,Oe,Pe],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:1em auto;padding:0 5px}[_nghost-%COMP%]     mat-tab-header{display:none!important}.tab-container[_ngcontent-%COMP%]{padding:5px}"]});let i=e;return i})();var We=[{path:"",component:De,children:[{path:"",component:be},{path:"schedule",component:Fe}]}],Le=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P({type:e}),e.\u0275inj=E({imports:[T.forChild(We),T]});let i=e;return i})();var Xt=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=P({type:e}),e.\u0275inj=E({imports:[f,Le]});let i=e;return i})();export{Xt as MainModule};
