import{a as P}from"./chunk-NLLOWLQL.js";import{A as at,B as rt,C as ct,D as pt,E as st,F as mt,G as lt,H as k,I as dt,J as M,a as F,b as X,c as Y,d as I,e as Z,t as O,u as tt,v as R,w as et,x as it,y as ot,z as nt}from"./chunk-FM5BKG6T.js";import{Aa as a,Ba as r,Ca as x,Ga as T,Ha as N,J as w,Ka as $,O as l,Oa as Q,P as _,Pa as q,Qa as G,Ra as E,Sa as s,Ta as z,Ua as L,Wa as d,Xa as S,Ya as H,Za as b,ha as p,ia as f,kb as V,lb as W,mb as u,sa as m,tb as J,ub as K,vb as v,wb as U,xa as B,ya as y,yb as h,za as C}from"./chunk-NEXLNSG7.js";var ft=(()=>{let t=class t{constructor(o){this.router=o}logout(){this.router.navigate(["/login"])}};t.\u0275fac=function(e){return new(e||t)(f(v))},t.\u0275cmp=l({type:t,selectors:[["app-main"]],standalone:!0,features:[d],decls:15,vars:1,consts:[["color","primary","fxLayout","row","fxLayoutAlign","space-between center"],["routerLink","/",2,"display","flex"],["src","assets/images/logo-white.svg",2,"width","150px"],["fxLayout","row"],["mat-icon-button","",3,"mat-menu-trigger-for"],["x-position","before"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(e,n){if(e&1&&(a(0,"mat-toolbar",0)(1,"span")(2,"a",1),x(3,"img",2),r()(),a(4,"div",3)(5,"button",4)(6,"mat-icon"),s(7,"person"),r()()()(),a(8,"mat-menu",5,6)(10,"button",7),T("click",function(){return n.logout()}),a(11,"mat-icon"),s(12,"exit_to_app"),r(),s(13," Logout "),r()(),x(14,"router-outlet")),e&2){let c=E(9);p(5),m("mat-menu-trigger-for",c)}},dependencies:[u,K,M,F,I,Z,at,nt,rt,ct,st,h,U]});let i=t;return i})();var A=[{_id:"a4dg6x1",name:"Work station",positions:[],available:!0},{_id:"n21f256",name:"Parking",positions:[],available:!0}];var Dt=["conceptsSelector"],wt=(i,t)=>t._id;function _t(i,t){if(i&1&&(a(0,"mat-list-option",3),s(1),r()),i&2){let g=t.$implicit;m("value",g._id),p(),z(g.name)}}var ht=(()=>{let t=class t{constructor(o){this.router=o,this.concepts=[...A]}onSchedule(){if(!this.conceptsSelector.selectedOptions.isEmpty()){let e=this.conceptsSelector.selectedOptions.selected.map(n=>n.value);this.router.navigate(["/schedule"],{queryParams:{concepts:e}})}}};t.\u0275fac=function(e){return new(e||t)(f(v))},t.\u0275cmp=l({type:t,selectors:[["app-select-concept"]],viewQuery:function(e,n){if(e&1&&Q(Dt,5),e&2){let c;q(c=G())&&(n.conceptsSelector=c.first)}},standalone:!0,features:[d],decls:14,vars:1,consts:[["conceptsSelector",""],["align","end"],["mat-flat-button","","color","primary","matTooltip","Schedule the selected concepts",3,"disabled","click"],[3,"value"]],template:function(e,n){if(e&1&&(a(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),s(3,"Concepts"),r(),a(4,"mat-card-subtitle"),s(5,"Select the concepts you want to schedule"),r()(),a(6,"mat-card-content")(7,"mat-selection-list",null,0),y(9,_t,2,2,"mat-list-option",3,wt),r()(),a(11,"mat-card-actions",1)(12,"button",2),T("click",function(){return n.onSchedule()}),s(13," Schedule "),r()()()),e&2){let c=E(8);p(9),C(n.concepts),p(3),m("disabled",c.selectedOptions.isEmpty())}},dependencies:[u,M,O,it,R,ot,et,tt,pt,lt,mt,k,h,P],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:1em auto}"]});let i=t;return i})();var Tt=(i,t)=>t._id;function Et(i,t){if(i&1&&(a(0,"mat-chip-option",5)(1,"span"),s(2),S(3,"lowercase"),r()()),i&2){let g=t.$implicit;m("selected",!1),p(2),L("Select ",H(3,2,g.name),"")}}var gt=(()=>{let t=class t{constructor(){this.date=new Date,this.concepts=[],console.log(this.concepts)}};t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l({type:t,selectors:[["app-date-item"]],inputs:{date:"date",concepts:"concepts"},standalone:!0,features:[d],decls:15,vars:12,consts:[["fxLayout","row","fxLayoutGap","10px"],["fxLayout","column","fxLayoutAlign","center center",1,"date-container",3,"matTooltip"],[1,"day"],["fxFlex",""],["fxLayout","column","fxLayoutGap","5px",1,"mat-mdc-chip-set-stacked"],[3,"selected"]],template:function(e,n){e&1&&(a(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"div",1),S(4,"date"),a(5,"div",2),s(6),S(7,"date"),r(),a(8,"div"),s(9),S(10,"date"),r()(),a(11,"div",3)(12,"div",4),y(13,Et,4,4,"mat-chip-option",5,Tt),r()()()()()),e&2&&(p(3),$("matTooltip",b(4,3,n.date,"fullDate")),p(3),L(" ",b(7,6,n.date,"dd")," "),p(3),L(" ",b(10,9,n.date,"EE")," "),p(4),C(n.concepts))},dependencies:[u,V,W,M,F,X,I,Y,O,R,k,dt,P],styles:[".date-container[_ngcontent-%COMP%]{text-align:center;color:#323c3c}.day[_ngcontent-%COMP%]{font-size:28px;font-weight:500}mat-card[_ngcontent-%COMP%]{margin-bottom:10px}"]});let i=t;return i})();function Lt(i,t){if(i&1&&x(0,"app-date-item",1),i&2){let g=t.$implicit,o=N();m("date",g)("concepts",o.concepts)}}var yt=(()=>{let t=class t{constructor(o,e){this.router=o,this.activatedRoute=e,this.dateRange=[],this.concepts=[];let n=e.snapshot.queryParams;this.concepts=this.loadConcepts(n.concepts),console.log(this.concepts);let c=new Date,j=new Date;j.setDate(j.getDate()+15),this.dateRange=this.createDateRange(c,j)}loadConcepts(o){if(!o?.length)throw this.router.navigate(["/"]),new Error("Concept ids where not provided");return this.concepts=A.filter(e=>typeof o=="string"?e._id===o:o.includes(e._id)),this.concepts}createDateRange(o,e){let n=[];for(let c=new Date(o);c<new Date(e);c.setDate(c.getDate()+1))c.getDay()!=6&&c.getDay()!=0&&n.push(new Date(c));return n}};t.\u0275fac=function(e){return new(e||t)(f(v),f(J))},t.\u0275cmp=l({type:t,selectors:[["app-select-date"]],standalone:!0,features:[d],decls:3,vars:0,consts:[[1,"container"],[3,"date","concepts"]],template:function(e,n){e&1&&(a(0,"div",0),y(1,Lt,1,2,"app-date-item",1,B),r()),e&2&&(p(),C(n.dateRange))},dependencies:[gt],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:1em auto;padding:0 5px}"]});let i=t;return i})();var bt=[{path:"",component:ft,children:[{path:"",component:ht},{path:"schedule",component:yt}]}],Ct=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_({type:t}),t.\u0275inj=w({imports:[h.forChild(bt),h]});let i=t;return i})();var me=(()=>{let t=class t{};t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_({type:t}),t.\u0275inj=w({imports:[u,Ct]});let i=t;return i})();export{me as MainModule};
