import{a as vt,b as j}from"./chunk-DJ6B4FID.js";import{A as mt,B as st,C as lt,D as dt,E as ut,F as ft,G as ht,H as A,I as Ct,J as M,a as k,b as et,c as it,d as F,e as ot,t as O,u as nt,v as P,w as at,x as rt,y as ct,z as pt}from"./chunk-KQN7IRVW.js";import{$a as I,Aa as v,Ab as C,Ba as y,Ca as n,Da as r,Ea as S,Fa as G,Ia as E,Ja as _,K as T,Ma as z,P as d,Q as b,Qa as H,Ra as W,Sa as J,T as Q,Ta as L,U as V,Ua as s,Va as R,Wa as g,Ya as u,Za as D,_a as K,ja as c,ka as h,mb as U,nb as X,ob as f,sa as $,ua as l,vb as Y,wb as Z,xb as x,yb as tt,za as q}from"./chunk-SK7EVYSD.js";var gt=(()=>{let t=class t{constructor(o){this.router=o}logout(){this.router.navigate(["/login"])}};t.\u0275fac=function(i){return new(i||t)(h(x))},t.\u0275cmp=d({type:t,selectors:[["app-main"]],standalone:!0,features:[u],decls:15,vars:1,consts:[["color","primary","fxLayout","row","fxLayoutAlign","space-between center"],["routerLink","/",2,"display","flex"],["src","assets/images/logo-white.svg",2,"width","150px"],["fxLayout","row"],["mat-icon-button","",3,"mat-menu-trigger-for"],["x-position","before"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(i,a){if(i&1&&(n(0,"mat-toolbar",0)(1,"span")(2,"a",1),S(3,"img",2),r()(),n(4,"div",3)(5,"button",4)(6,"mat-icon"),s(7,"person"),r()()()(),n(8,"mat-menu",5,6)(10,"button",7),E("click",function(){return a.logout()}),n(11,"mat-icon"),s(12,"exit_to_app"),r(),s(13," Logout "),r()(),S(14,"router-outlet")),i&2){let m=L(9);c(5),l("mat-menu-trigger-for",m)}},dependencies:[f,Z,M,k,F,ot,mt,pt,st,lt,ut,C,tt]});let e=t;return e})();var B=[{_id:"a4dg6x1",name:"Work station",positions:[],available:!0},{_id:"n21f256",name:"Parking",positions:[],available:!0}];var Et=["conceptsSelector"],Lt=(e,t)=>t._id;function Rt(e,t){if(e&1&&(n(0,"mat-card-header")(1,"mat-card-title"),s(2),r(),n(3,"mat-card-subtitle"),s(4),r()()),e&2){let p=t.$implicit;c(2),R(p("pluralLabel")),c(2),R(p("selection.subtitle"))}}function It(e,t){if(e&1&&(n(0,"mat-list-option",4),s(1),r()),e&2){let p=t.$implicit;l("value",p._id),c(),R(p.name)}}function kt(e,t){if(e&1){let p=G();n(0,"button",5),E("click",function(){Q(p);let i=_();return V(i.onSchedule())}),s(1),r()}if(e&2){let p=t.$implicit;_();let o=L(4);l("disabled",o.selectedOptions.isEmpty())("matTooltip",p("tooltip")),c(),g(" ",p("label")," ")}}var xt=(()=>{let t=class t{constructor(o){this.router=o,this.concepts=[...B]}onSchedule(){if(!this.conceptsSelector.selectedOptions.isEmpty()){let i=this.conceptsSelector.selectedOptions.selected.map(a=>a.value);this.router.navigate(["/schedule"],{queryParams:{concepts:i}})}}};t.\u0275fac=function(i){return new(i||t)(h(x))},t.\u0275cmp=d({type:t,selectors:[["app-select-concept"]],viewQuery:function(i,a){if(i&1&&H(Et,5),i&2){let m;W(m=J())&&(a.conceptsSelector=m.first)}},standalone:!0,features:[u],decls:9,vars:2,consts:[[4,"transloco","translocoRead"],["conceptsSelector",""],["align","end"],["mat-flat-button","","color","primary",3,"disabled","matTooltip","click",4,"transloco","translocoRead"],[3,"value"],["mat-flat-button","","color","primary",3,"disabled","matTooltip","click"]],template:function(i,a){i&1&&(n(0,"mat-card"),$(1,Rt,5,2,"mat-card-header",0),n(2,"mat-card-content")(3,"mat-selection-list",null,1),v(5,It,2,2,"mat-list-option",4,Lt),r()(),n(7,"mat-card-actions",2),$(8,kt,2,3,"button",3),r()()),i&2&&(c(),l("translocoRead","concept"),c(4),y(a.concepts),c(3),l("translocoRead","schedule"))},dependencies:[f,M,O,rt,P,ct,at,nt,dt,ht,ft,A,C,j,vt],styles:["mat-card[_ngcontent-%COMP%]{max-width:400px;margin:1em auto}"]});let e=t;return e})();var Ft=(e,t)=>t._id;function Ot(e,t){if(e&1&&(n(0,"mat-chip-option",5)(1,"span"),s(2),D(3,"lowercase"),r()()),e&2){let p=t.$implicit;l("selected",!1),c(2),g("Select ",K(3,2,p.name),"")}}var Mt=(()=>{let t=class t{constructor(){this.date=new Date,this.concepts=[],console.log(this.concepts)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=d({type:t,selectors:[["app-date-item"]],inputs:{date:"date",concepts:"concepts"},standalone:!0,features:[u],decls:15,vars:12,consts:[["fxLayout","row","fxLayoutGap","10px"],["fxLayout","column","fxLayoutAlign","center center",1,"date-container",3,"matTooltip"],[1,"day"],["fxFlex",""],["fxLayout","column","fxLayoutGap","5px",1,"mat-mdc-chip-set-stacked"],[3,"selected"]],template:function(i,a){i&1&&(n(0,"mat-card")(1,"mat-card-content")(2,"div",0)(3,"div",1),D(4,"date"),n(5,"div",2),s(6),D(7,"date"),r(),n(8,"div"),s(9),D(10,"date"),r()(),n(11,"div",3)(12,"div",4),v(13,Ot,4,4,"mat-chip-option",5,Ft),r()()()()()),i&2&&(c(3),z("matTooltip",I(4,3,a.date,"fullDate")),c(3),g(" ",I(7,6,a.date,"dd")," "),c(3),g(" ",I(10,9,a.date,"EE")," "),c(4),y(a.concepts))},dependencies:[f,U,X,M,k,et,F,it,O,P,A,Ct,j],styles:[".date-container[_ngcontent-%COMP%]{text-align:center;color:#323c3c}.day[_ngcontent-%COMP%]{font-size:28px;font-weight:500}mat-card[_ngcontent-%COMP%]{margin-bottom:10px}"]});let e=t;return e})();function Pt(e,t){if(e&1&&S(0,"app-date-item",1),e&2){let p=t.$implicit,o=_();l("date",p)("concepts",o.concepts)}}var St=(()=>{let t=class t{constructor(o,i){this.router=o,this.activatedRoute=i,this.dateRange=[],this.concepts=[];let a=i.snapshot.queryParams;this.concepts=this.loadConcepts(a.concepts),console.log(this.concepts);let m=new Date,N=new Date;N.setDate(N.getDate()+15),this.dateRange=this.createDateRange(m,N)}loadConcepts(o){if(!o?.length)throw this.router.navigate(["/"]),new Error("Concept ids where not provided");return this.concepts=B.filter(i=>typeof o=="string"?i._id===o:o.includes(i._id)),this.concepts}createDateRange(o,i){let a=[];for(let m=new Date(o);m<new Date(i);m.setDate(m.getDate()+1))m.getDay()!=6&&m.getDay()!=0&&a.push(new Date(m));return a}};t.\u0275fac=function(i){return new(i||t)(h(x),h(Y))},t.\u0275cmp=d({type:t,selectors:[["app-select-date"]],standalone:!0,features:[u],decls:3,vars:0,consts:[[1,"container"],[3,"date","concepts"]],template:function(i,a){i&1&&(n(0,"div",0),v(1,Pt,1,2,"app-date-item",1,q),r()),i&2&&(c(),y(a.dateRange))},dependencies:[Mt],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:1em auto;padding:0 5px}"]});let e=t;return e})();var At=[{path:"",component:gt,children:[{path:"",component:xt},{path:"schedule",component:St}]}],_t=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=b({type:t}),t.\u0275inj=T({imports:[C.forChild(At),C]});let e=t;return e})();var ye=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=b({type:t}),t.\u0275inj=T({imports:[f,_t]});let e=t;return e})();export{ye as MainModule};
